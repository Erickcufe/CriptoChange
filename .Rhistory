df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.hw <- HoltWinters(df.ts)
plot(df.hw, col="blue", col.predicted = "red")
}
r <- Cripto_Holt_Winters(df, "WEEKLY")
r <- Cripto_Holt_Winters(df, "WEEKLY")
df.fore <- forecast::forecast(df.hw, h = 6)
plot(df.fore)
View(df)
df.fore$lower
df.fore$upper
View(df)
df.ts
View(df)
auto.arima
library(ggplot2)
View(df.fore)
ggplot(df.fore) + geom_line()
df.fore[["mean"]]
df.fore[["x"]]
df.fore[["lower"]]
df.fore$lower
df.fore$upper
df.ts
df[,8]
df[,7]
df$Close_MXN
target <- names(df[,8])
target <- colname(df[,8])
name(df[,8])
names(df[,8])
target <- names(df)[8]
df <- df %>% dplyr::arrange(desc(target))
library(magrittr)
df <- df %>% dplyr::arrange(desc(target))
df <- df %>% dplyr::arrange(desc(Date))
View(df)
df <- df %>% dplyr::arrange(Date)
View(df)
Cripto_Holt_Winters <- function(df, temp, n_predict){
df <- df %>% dplyr::arrange(Date)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
}
if(temp=="WEEKLY"){
interval <- 52
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
}
if(temp=="MONTHLY"){
interval <- 12
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date))
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.hw <- HoltWinters(df.ts)
plot(df.hw, col="blue", col.predicted = "red")
df.fore <- forecast::forecast(df.hw, h = 6)
plot(df.fore)
ggplot(df.fore) + geom_line()
df.fore$lower
df.fore$upper
}
r <- Cripto_Holt_Winters(df, "WEEKLY")
Cripto_Holt_Winters <- function(df, temp, n_predict){
df <- df %>% dplyr::arrange(Date)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
}
if(temp=="WEEKLY"){
interval <- 52
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
}
if(temp=="MONTHLY"){
interval <- 12
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date))
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.hw <- HoltWinters(df.ts)
plot(df.hw, col="blue", col.predicted = "red")
df.fore <- forecast::forecast(df.hw, h = 6)
plot(df.fore)
df.fore$lower
df.fore$upper
}
r <- Cripto_Holt_Winters(df, "WEEKLY")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
i
#' @import
#' magrittr
#'
#' @examples
#'
#' ETH <- Cripto_time_series(cripto = "ETH", temp = "MONTHLY")
#' Cripto_seasonal_analysis(ETH, "MONTHLY")
#'
#' @rdname Cripto_seasonal_analysis
#' @export Cripto_seasonal_analysis
Cripto_seasonal_analysis <- function(df, temp){
library(magrittr)
df <- df %>% dplyr::arrange(Date)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
}
if(temp=="WEEKLY"){
interval <- 52
}
if(temp=="MONTHLY"){
interval <- 12
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.ts.log <- log(df.ts)
df.stl <- stl(log(df.ts), s.window = "period")
plot(df.stl, main = "Decomposition by Loess")
df.dec <- decompose(df.ts.log)
plot(df.dec)
df.season.adjusted <- df.ts.log - df.dec$seasonal
results <- list("Seasonal Decomposition of Time Series by Loess" = df.stl,
"Classical Seasonal Decomposition by Moving Averages" = df.dec,
"Seasonal Adjusted" = df.season.adjusted)
return(results)
}
jj <- Cripto_seasonal_analysis(df, "WEEKLY")
devtools::load_all(".")
#' @import
#' magrittr
#'
#' @examples
#'
#' ETH <- Cripto_time_series(cripto = "ETH", temp = "MONTHLY")
#' Cripto_seasonal_analysis(ETH, "MONTHLY")
#'
#' @rdname Cripto_seasonal_analysis
#' @export Cripto_seasonal_analysis
Cripto_seasonal_analysis <- function(df, temp, Date="Date"){
x_var <- enquo(Date)
df <- df %>% dplyr::arrange(x_var)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
}
if(temp=="WEEKLY"){
interval <- 52
}
if(temp=="MONTHLY"){
interval <- 12
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.ts.log <- log(df.ts)
df.stl <- stl(log(df.ts), s.window = "period")
plot(df.stl, main = "Decomposition by Loess")
df.dec <- decompose(df.ts.log)
plot(df.dec)
df.season.adjusted <- df.ts.log - df.dec$seasonal
results <- list("Seasonal Decomposition of Time Series by Loess" = df.stl,
"Classical Seasonal Decomposition by Moving Averages" = df.dec,
"Seasonal Adjusted" = df.season.adjusted)
return(results)
}
devtools::load_all(".")
#' @import
#' magrittr
#'
#' @examples
#'
#' ETH <- Cripto_time_series(cripto = "ETH", temp = "MONTHLY")
#' Cripto_seasonal_analysis(ETH, "MONTHLY")
#'
#' @rdname Cripto_seasonal_analysis
#' @export Cripto_seasonal_analysis
Cripto_seasonal_analysis <- function(df, temp, Date="Date"){
x_var <- enquo(Date)
df <- df %>% dplyr::arrange(x_var)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
}
if(temp=="WEEKLY"){
interval <- 52
}
if(temp=="MONTHLY"){
interval <- 12
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.ts.log <- log(df.ts)
df.stl <- stl(log(df.ts), s.window = "period")
plot(df.stl, main = "Decomposition by Loess")
df.dec <- decompose(df.ts.log)
plot(df.dec)
df.season.adjusted <- df.ts.log - df.dec$seasonal
results <- list("Seasonal Decomposition of Time Series by Loess" = df.stl,
"Classical Seasonal Decomposition by Moving Averages" = df.dec,
"Seasonal Adjusted" = df.season.adjusted)
return(results)
}
jj <- Cripto_seasonal_analysis(df, "WEEKLY")
#' @import
#' magrittr
#'
#' @examples
#'
#' ETH <- Cripto_time_series(cripto = "ETH", temp = "MONTHLY")
#' Cripto_seasonal_analysis(ETH, "MONTHLY")
#'
#' @rdname Cripto_seasonal_analysis
#' @export Cripto_seasonal_analysis
Cripto_seasonal_analysis <- function(df, temp, Date="Date"){
x_var <- quo(Date)
df <- df %>% dplyr::arrange(x_var)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
}
if(temp=="WEEKLY"){
interval <- 52
}
if(temp=="MONTHLY"){
interval <- 12
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.ts.log <- log(df.ts)
df.stl <- stl(log(df.ts), s.window = "period")
plot(df.stl, main = "Decomposition by Loess")
df.dec <- decompose(df.ts.log)
plot(df.dec)
df.season.adjusted <- df.ts.log - df.dec$seasonal
results <- list("Seasonal Decomposition of Time Series by Loess" = df.stl,
"Classical Seasonal Decomposition by Moving Averages" = df.dec,
"Seasonal Adjusted" = df.season.adjusted)
return(results)
}
jj <- Cripto_seasonal_analysis(df, "WEEKLY")
x_var <- quo(Date)
x_var
df <- df %>% dplyr::arrange(x_var)
#' @import
#' magrittr
#'
#' @examples
#'
#' ETH <- Cripto_time_series(cripto = "ETH", temp = "MONTHLY")
#' Cripto_seasonal_analysis(ETH, "MONTHLY")
#'
#' @rdname Cripto_seasonal_analysis
#' @export Cripto_seasonal_analysis
Cripto_seasonal_analysis <- function(df, temp, Date="Date"){
x_var <- quo(Date)
df <- df %>% dplyr::arrange(!!x_var)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
}
if(temp=="WEEKLY"){
interval <- 52
}
if(temp=="MONTHLY"){
interval <- 12
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.ts.log <- log(df.ts)
df.stl <- stl(log(df.ts), s.window = "period")
plot(df.stl, main = "Decomposition by Loess")
df.dec <- decompose(df.ts.log)
plot(df.dec)
df.season.adjusted <- df.ts.log - df.dec$seasonal
results <- list("Seasonal Decomposition of Time Series by Loess" = df.stl,
"Classical Seasonal Decomposition by Moving Averages" = df.dec,
"Seasonal Adjusted" = df.season.adjusted)
return(results)
}
jj <- Cripto_seasonal_analysis(df, "WEEKLY")
devtools::load_all(".")
devtools::load_all(".")
#' @import
#' magrittr
#'
#' @examples
#'
#' ETH <- Cripto_time_series(cripto = "ETH", temp = "MONTHLY")
#' Cripto_seasonal_analysis(ETH, "MONTHLY")
#'
#' @rdname Cripto_seasonal_analysis
#' @export Cripto_seasonal_analysis
Cripto_seasonal_analysis <- function(df, temp, Date="Date"){
x_var <- quo(Date)
df <- df %>% dplyr::arrange(!!x_var)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
}
if(temp=="WEEKLY"){
interval <- 52
}
if(temp=="MONTHLY"){
interval <- 12
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.ts.log <- log(df.ts)
df.stl <- stl(log(df.ts), s.window = "period")
plot(df.stl, main = "Decomposition by Loess")
df.dec <- decompose(df.ts.log)
plot(df.dec)
df.season.adjusted <- df.ts.log - df.dec$seasonal
results <- list("Seasonal Decomposition of Time Series by Loess" = df.stl,
"Classical Seasonal Decomposition by Moving Averages" = df.dec,
"Seasonal Adjusted" = df.season.adjusted)
return(results)
}
devtools::load_all(".")
Cripto_Holt_Winters <- function(df, temp, n_predict){
df <- df %>% dplyr::arrange(Date)
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
}
if(temp=="WEEKLY"){
interval <- 52
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
}
if(temp=="MONTHLY"){
interval <- 12
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date))
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.hw <- HoltWinters(df.ts)
plot(df.hw, col="blue", col.predicted = "red")
df.fore <- forecast::forecast(df.hw, h = 6)
plot(df.fore)
df.fore$lower
df.fore$upper
}
r <- Cripto_Holt_Winters(df, "WEEKLY")
View(df)
df[order(df[,"Date"], decreasing = TRUE),]
df <- df[order(df[,"Date"], decreasing = FALSE),]
View(df)
str(df)
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
#' Two plots of Time Series decomposition and a List with the results of decompisitions
#'
#'
#' @examples
#'
#' ETH <- Cripto_time_series(cripto = "ETH", temp = "MONTHLY")
#' Cripto_seasonal_analysis(ETH, "MONTHLY")
#'
#' @rdname Cripto_seasonal_analysis
#' @export Cripto_seasonal_analysis
Cripto_seasonal_analysis <- function(df, temp){
df <- df[order(df[,1], decreasing = FALSE),]
start_date <- df$Date[nrow(df)]
start_date_1 <- c(lubridate::year(start_date),
lubridate::month(start_date),
lubridate::day(start_date))
if(temp=="DAILY"){
interval <- 365
}
if(temp=="WEEKLY"){
interval <- 52
}
if(temp=="MONTHLY"){
interval <- 12
}
df.ts <- ts(df[,8], start = start_date_1,
frequency = interval)
df.ts.log <- log(df.ts)
df.stl <- stl(log(df.ts), s.window = "period")
plot(df.stl, main = "Decomposition by Loess")
df.dec <- decompose(df.ts.log)
plot(df.dec)
df.season.adjusted <- df.ts.log - df.dec$seasonal
results <- list("Seasonal Decomposition of Time Series by Loess" = df.stl,
"Classical Seasonal Decomposition by Moving Averages" = df.dec,
"Seasonal Adjusted" = df.season.adjusted)
return(results)
}
devtools::load_all(".")
devtools::load_all(".")
df[order(df[,1], decreasing = FALSE),]
devtools::load_all(".")
usethis::use_r("Cripto_Arima")
devtools::load_all(".")
df.arima <- forecast::auto.arima(df.ts, parallel = TRUE)
summary(df.arima)
plot(df.arima)
plot(df.arima)
df.fore <- forecast::forecast(df.arima, h = n_predict)
devtools::load_all(".")
df.fore <- forecast::forecast(df.arima, h = 6)
plot(df.fore, col="red", fcol = "green")
devtools::load_all(".")
devtools::load_all(".")
D
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
devtools::load_all(".")
Cripto_exchange?
Cripto_exchange??
))
?Cripto_exchange
?Cripto_Time_Series
devtools::load_all(".")
?Cripto_exchange
?Cripto_Time_Series
?Cripto_exchange
devtools::load_all(".")
?Cripto_exchange
?Cripto_seasonal_analysis
devtools::load_all(".")
?Cripto_exchange
devtools::load_all(".")
Cripto_time_series("BCH", "MXN","DAILY")
BCH_MXN <- Cripto_time_series("BCH", "MXN","DAILY")
season_BCH <- Cripto_seasonal_analysis(BCH_MXN, "DAILY")
season_BCH <- Cripto_Holt_Winters(BCH_MXN, "DAILY", 6)
View(BCH_MXN)
BCH_MXN <- Cripto_time_series("ETH", "MXN","DAILY")
season_BCH <- Cripto_Holt_Winters(BCH_MXN, "DAILY", 6)
View(season_BCH)
season_BCH[["mean"]]
season_BCH <- Cripto_Arima(BCH_MXN, "DAILY", 6)
View(season_BCH)
season_BCH[["mean"]]
usethis::use_vignette()
usethis::use_vignette("CriptoChange")
devtools::load_all(".")
library(CriptoChange)
library(CriptoChange)
df <- Cripto_time_series(cripto = "ETH",
market = "MXN",
temp = "MONTHLY")
results <- Cripto_seasonal_analysis(df = df, temp = "MONTHLY")
library(CriptoChange)
devtools::load_all(".")
usethis::use_test()
usethis::use_vignette()
usethis::use_vignette(CriptoDummy)
usethis::use_vignette("CriptoDummy")
devtools::load_all(".")
knit_with_parameters('~/CriptoDummy/vignettes/CriptoDummy.Rmd')
devtools::load_all(".")
usethis::use_mit_license()
usethis::use_mit_license(CriptoDummy)
usethis::use_mit_license("CriptoDummy")
library(CriptoDummy)
library(CriptoDummy)
devtools::load_all(".")
install.packages("CriptoDummy")
install.packages("CriptoDummy")
